%script#board-vue-component-template(type="text/x-template")
  %div
    %nav.navbar(role="navigation" aria-label="main navigation")
      .navbar-brand
        .level
          .level-left
            .level-item
              .dropdown.is-hoverable
                .dropdown-trigger
                  %button.button(aria-haspopup="true" aria-controls="dropdown-menu")
                    %span= I18n.t('boards.boards')
                .dropdown-menu(role="menu")
                  %a.dropdown-item(v-on:click="showCreateModal()")
                    = "#{I18n.t('boards.new')}&hellip;".html_safe
                  %a.dropdown-item(v-on:click="destroy()")
                    = I18n.t('boards.delete')
          .level-left
            .level-item
              {{board.title}}
    .board-container
      %task-group.task-group-container(:task_group="task_group" v-for="task_group in board.task_groups" :key="task_group.id")

      .box.task-group-container.has-background-secondary
        %a(v-on:click="show_new_task_group_form = true" v-show="!show_new_task_group_form")
          = '+ ' + I18n.t('task_groups.add_another')

        .box(v-show="show_new_task_group_form")
          .field
            .control
              %input.input.is-primary(type="text" v-model="new_task_group.title")
          %a.button.is-primary(v-on:click="createTaskGroup()")
            = I18n.t('task_groups.add')
          %a.button(v-on:click="closeTaskGroupForm()")
            = I18n.t('shared.cancel')
